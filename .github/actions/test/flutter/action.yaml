name: Test
description: Flutter test
inputs:
  WORKFLOW_APP_ID:
    description: 'The ID of the GitHub App to use to authenticate the workflow'
    required: true
  WORKFLOW_APP_KEY:
    description: 'The key to use to authenticate the workflow'
    required: true
runs:
  using: "composite"
  steps:
    - uses: actions/checkout@v4
    - uses: actions/create-github-app-token@v1
      id: app-token
      with:
        app-id: ${{ vars.WORKFLOW_APP_ID }}
        private-key: ${{ inputs.WORKFLOW_APP_KEY }}
    - uses: subosito/flutter-action@main
      with:
        channel: "stable"
    
    - shell: bash
      run: |
        flutter pub get
        flutter --version
        flutter test